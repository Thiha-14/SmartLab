{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SmartLab/llab_man/app/%28app%29/labs/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport {\r\n  Plus, Search, Trash2, X, MapPin, FlaskConical, Cpu, ShieldCheck, AlertTriangle, Info, AlertCircle, Check\r\n} from 'lucide-react';\r\nimport { useAuth } from '@/app/AuthContext';\r\nimport { Lab, UserRole, Equipment, LabRule } from '@/types';\r\n\r\nexport default function LabsPage() {\r\n  const { user } = useAuth();\r\n  // distinct role variable to control UI elements\r\n  const role = user?.role || UserRole.USER;\r\n\r\n  const [activeTab, setActiveTab] = useState<'details' | 'equipment' | 'allowances'>('details');\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  const [isEqModalOpen, setEqModalOpen] = useState(false);\r\n  const [isRuleModalOpen, setRuleModalOpen] = useState(false);\r\n  const [labs, setLabs] = useState<Lab[]>([]);\r\n  const [equipment, setEquipment] = useState<Equipment[]>([]);\r\n  const [rules, setRules] = useState<LabRule[]>([]);\r\n\r\n  const [newLab, setNewLab] = useState({ name: '', description: '', location: '', photoUrl: '', photoFile: null as File | null });\r\n  const [newEq, setNewEq] = useState({ name: '', manufacturer: '', model: '', serialNumber: '', nextCalibrationDate: '' });\r\n  const [newRule, setNewRule] = useState({ title: '', description: '', category: 'General' as 'Safety' | 'Conduct' | 'Equipment' | 'General', severity: 'Mandatory' as 'Mandatory' | 'Warning' | 'Info' });\r\n  \r\n  const [labErrors, setLabErrors] = useState<string[]>([]);\r\n  const [eqErrors, setEqErrors] = useState<string[]>([]);\r\n  const [ruleErrors, setRuleErrors] = useState<string[]>([]);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  \r\n  const labTemplates = [\r\n    { label: 'üß¨ Biology Lab', location: 'Building A, Floor 2' },\r\n    { label: 'üñ•Ô∏è Computer Lab', location: 'Building B, Floor 1' },\r\n    { label: '‚öóÔ∏è Chemistry Lab', location: 'Building A, Floor 3' },\r\n    { label: 'üìä Data Lab', location: 'Building C, Floor 1' },\r\n  ];\r\n  \r\n  const equipmentTemplates = [\r\n    { label: 'Microscope', manufacturer: 'Zeiss', model: 'AxioLab A1' },\r\n    { label: 'Centrifuge', manufacturer: 'Eppendorf', model: '5424R' },\r\n    { label: 'Spectrophotometer', manufacturer: 'PerkinElmer', model: 'Lambda 25' },\r\n    { label: 'PCR Machine', manufacturer: 'Bio-Rad', model: 'T100' },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n        setLabs(JSON.parse(localStorage.getItem('sl_labs') || '[]'));\r\n        setEquipment(JSON.parse(localStorage.getItem('sl_equipment') || '[]'));\r\n        \r\n        const savedRules = localStorage.getItem('sl_lab_rules');\r\n        if (!savedRules) {\r\n        // Initialize with static default rules\r\n        const defaultRules: LabRule[] = [\r\n            {\r\n            id: 'r1',\r\n            title: 'Wear Personal Protective Equipment',\r\n            description: 'Lab coats, safety goggles, and closed-toe shoes must be worn at all times in the laboratory.',\r\n            category: 'Safety',\r\n            severity: 'Mandatory'\r\n            },\r\n            {\r\n            id: 'r2',\r\n            title: 'No Food or Drinks',\r\n            description: 'Consumption of food and beverages is strictly prohibited in all laboratory areas to prevent contamination.',\r\n            category: 'Safety',\r\n            severity: 'Mandatory'\r\n            },\r\n            {\r\n            id: 'r3',\r\n            title: 'Report Equipment Malfunctions',\r\n            description: 'Immediately report any damaged or malfunctioning equipment to lab supervisors. Do not attempt repairs.',\r\n            category: 'Equipment',\r\n            severity: 'Warning'\r\n            },\r\n            {\r\n            id: 'r4',\r\n            title: 'Clean Workstation After Use',\r\n            description: 'All work areas must be cleaned and sanitized after each use. Return equipment to designated storage areas.',\r\n            category: 'Conduct',\r\n            severity: 'Mandatory'\r\n            },\r\n            {\r\n            id: 'r5',\r\n            title: 'Proper Waste Disposal',\r\n            description: 'Dispose of chemical, biological, and sharp waste in designated containers according to safety protocols.',\r\n            category: 'Safety',\r\n            severity: 'Mandatory'\r\n            },\r\n            {\r\n            id: 'r6',\r\n            title: 'Authorized Personnel Only',\r\n            description: 'Lab access is restricted to authorized personnel. Visitors must be accompanied by staff members.',\r\n            category: 'General',\r\n            severity: 'Mandatory'\r\n            },\r\n            {\r\n            id: 'r7',\r\n            title: 'Emergency Procedures',\r\n            description: 'Familiarize yourself with emergency exits, eyewash stations, fire extinguishers, and emergency shutdown procedures.',\r\n            category: 'Safety',\r\n            severity: 'Info'\r\n            },\r\n            {\r\n            id: 'r8',\r\n            title: 'Handle Equipment with Care',\r\n            description: 'Use laboratory equipment only for its intended purpose. Follow manufacturer guidelines and standard operating procedures.',\r\n            category: 'Equipment',\r\n            severity: 'Warning'\r\n            },\r\n            {\r\n            id: 'r9',\r\n            title: 'Maintain Quiet Environment',\r\n            description: 'Keep noise levels to a minimum to ensure a productive working environment. Use headphones for audio content.',\r\n            category: 'Conduct',\r\n            severity: 'Info'\r\n            },\r\n            {\r\n            id: 'r10',\r\n            title: 'Document Your Work',\r\n            description: 'Maintain accurate records of experiments, equipment usage, and observations in lab notebooks or digital systems.',\r\n            category: 'General',\r\n            severity: 'Warning'\r\n            }\r\n        ];\r\n        setRules(defaultRules);\r\n        localStorage.setItem('sl_lab_rules', JSON.stringify(defaultRules));\r\n        } else {\r\n        setRules(JSON.parse(savedRules));\r\n        }\r\n    }\r\n  }, []);\r\n\r\n  const saveLabs = (updated: Lab[]) => {\r\n    setLabs(updated);\r\n    localStorage.setItem('sl_labs', JSON.stringify(updated));\r\n  };\r\n  const saveEquipment = (updated: Equipment[]) => {\r\n    setEquipment(updated);\r\n    localStorage.setItem('sl_equipment', JSON.stringify(updated));\r\n  };\r\n  const saveRules = (updated: LabRule[]) => {\r\n    setRules(updated);\r\n    localStorage.setItem('sl_lab_rules', JSON.stringify(updated));\r\n  };\r\n\r\n  const handleAddLab = async () => {\r\n    const errors: string[] = [];\r\n    if (!newLab.name || newLab.name === 'custom') errors.push('Lab name is required');\r\n    if (!newLab.description) errors.push('Lab description is required');\r\n    if (!newLab.location) errors.push('Lab location is required');\r\n    \r\n    setLabErrors(errors);\r\n    if (errors.length > 0) return;\r\n    \r\n    let photoUrl = 'https://images.unsplash.com/photo-1532094349884-543bc11b234d?auto=format&fit=crop&q=80&w=800';\r\n    \r\n    // If a photo file was selected, convert to base64\r\n    if (newLab.photoFile) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        const base64 = e.target?.result as string;\r\n        const item: Lab = {\r\n          id: 'l' + Date.now(),\r\n          name: newLab.name,\r\n          description: newLab.description || 'Standard lab facility.',\r\n          location: newLab.location || 'Main Building',\r\n          features: ['Basic Equipment'],\r\n          media: [{\r\n            id: 'm-new',\r\n            url: base64,\r\n            type: 'image',\r\n            name: 'New Lab',\r\n            uploadProgress: 100\r\n          }]\r\n        };\r\n        saveLabs([...labs, item]);\r\n        setNewLab({ name: '', description: '', location: '', photoUrl: '', photoFile: null });\r\n        setLabErrors([]);\r\n        setSuccessMessage(`‚úÖ Lab \"${newLab.name}\" added successfully!`);\r\n        setTimeout(() => setSuccessMessage(''), 3000);\r\n        setModalOpen(false);\r\n      };\r\n      reader.readAsDataURL(newLab.photoFile);\r\n    } else {\r\n      const item: Lab = {\r\n        id: 'l' + Date.now(),\r\n        name: newLab.name,\r\n        description: newLab.description || 'Standard lab facility.',\r\n        location: newLab.location || 'Main Building',\r\n        features: ['Basic Equipment'],\r\n        media: [{\r\n          id: 'm-new',\r\n          url: photoUrl,\r\n          type: 'image',\r\n          name: 'New Lab',\r\n          uploadProgress: 100\r\n        }]\r\n      };\r\n      saveLabs([...labs, item]);\r\n      setNewLab({ name: '', description: '', location: '', photoUrl: '', photoFile: null });\r\n      setModalOpen(false);\r\n    }\r\n  };\r\n\r\n  const handlePhotoUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setNewLab({ ...newLab, photoFile: file });\r\n      // Generate preview\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        setNewLab(prev => ({ ...prev, photoUrl: event.target?.result as string }));\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleAddEquipment = () => {\r\n    const errors: string[] = [];\r\n    if (!newEq.name) errors.push('Equipment name is required');\r\n    if (!newEq.manufacturer) errors.push('Manufacturer is required');\r\n    if (!newEq.nextCalibrationDate) errors.push('Calibration date is required');\r\n    \r\n    setEqErrors(errors);\r\n    if (errors.length > 0) return;\r\n    \r\n    const item: Equipment = {\r\n      id: 'e' + Date.now(),\r\n      name: newEq.name,\r\n      manufacturer: newEq.manufacturer || 'General',\r\n      model: newEq.model || 'Standard',\r\n      serialNumber: newEq.serialNumber || 'N/A',\r\n      procurementDate: new Date().toISOString().split('T')[0],\r\n      invoiceNumber: 'INV-' + Math.floor(Math.random() * 1000),\r\n      lastCalibrationDate: new Date().toISOString().split('T')[0],\r\n      nextCalibrationDate: newEq.nextCalibrationDate || '2025-12-31',\r\n      calibrationFrequency: 'Yearly'\r\n    };\r\n    saveEquipment([...equipment, item]);\r\n    setNewEq({ name: '', manufacturer: '', model: '', serialNumber: '', nextCalibrationDate: '' });\r\n    setEqErrors([]);\r\n    setSuccessMessage(`‚úÖ Equipment \"${newEq.name}\" added successfully!`);\r\n    setTimeout(() => setSuccessMessage(''), 3000);\r\n    setEqModalOpen(false);\r\n  };\r\n\r\n  const deleteLab = (id: string) => {\r\n    if (confirm('Delete this lab room?')) saveLabs(labs.filter(l => l.id !== id));\r\n  };\r\n\r\n  const deleteEq = (id: string) => {\r\n    if (confirm('Delete this equipment?')) saveEquipment(equipment.filter(e => e.id !== id));\r\n  };\r\n\r\n  const handleAddRule = () => {\r\n    const errors: string[] = [];\r\n    if (!newRule.title) errors.push('Rule title is required');\r\n    if (!newRule.description) errors.push('Rule description is required');\r\n    \r\n    setRuleErrors(errors);\r\n    if (errors.length > 0) return;\r\n    \r\n    const item: LabRule = {\r\n      id: 'r' + Date.now(),\r\n      title: newRule.title,\r\n      description: newRule.description,\r\n      category: newRule.category,\r\n      severity: newRule.severity\r\n    };\r\n    saveRules([...rules, item]);\r\n    setNewRule({ title: '', description: '', category: 'General', severity: 'Mandatory' });\r\n    setRuleErrors([]);\r\n    setSuccessMessage(`‚úÖ Rule \"${newRule.title}\" added successfully!`);\r\n    setTimeout(() => setSuccessMessage(''), 3000);\r\n    setRuleModalOpen(false);\r\n  };\r\n\r\n  const deleteRule = (id: string) => {\r\n    if (confirm('Delete this rule?')) saveRules(rules.filter(r => r.id !== id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6 md:space-y-8 animate-in fade-in duration-500\">\r\n      {successMessage && (\r\n        <div className=\"fixed top-4 right-4 z-[200] animate-in slide-in-from-right duration-300\">\r\n          <div className=\"bg-emerald-500 text-white px-6 md:px-8 py-3 md:py-4 rounded-2xl font-black shadow-2xl flex items-center gap-3\">\r\n            {successMessage}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"flex border-b border-slate-200 gap-6 md:gap-8 mb-4 overflow-x-auto no-scrollbar scroll-smooth\">\r\n        {[\r\n          { id: 'details', label: 'Labs', icon: FlaskConical },\r\n          { id: 'equipment', label: 'Equipment', icon: Cpu },\r\n          { id: 'allowances', label: 'Rules', icon: ShieldCheck }\r\n        ].map(tab => (\r\n          <button\r\n            key={tab.id}\r\n            onClick={() => setActiveTab(tab.id as any)}\r\n            className={`flex items-center gap-2 pb-4 text-xs md:text-sm font-bold transition-all relative whitespace-nowrap ${activeTab === tab.id ? 'text-blue-600' : 'text-slate-400'\r\n              }`}\r\n          >\r\n            <tab.icon size={16} className=\"md:w-4.5 md:h-4.5\" />\r\n            {tab.label}\r\n            {activeTab === tab.id && <div className=\"absolute bottom-0 left-0 right-0 h-0.5 md:h-1 bg-blue-600 rounded-full\"></div>}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {activeTab === 'details' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-4\">\r\n            <div className=\"relative flex-1 sm:max-w-[320px]\">\r\n              <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300\" size={18} />\r\n              <input type=\"text\" placeholder=\"Search labs...\" className=\"w-full pl-12 pr-4 py-2.5 md:py-3 bg-white border border-slate-200 rounded-2xl outline-none focus:border-blue-400 font-bold text-sm\" />\r\n            </div>\r\n            {role !== UserRole.USER && (\r\n              <button onClick={() => setModalOpen(true)} className=\"flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-2.5 md:py-3 rounded-2xl font-bold shadow-md hover:bg-blue-700 transition-all text-xs md:text-sm\">\r\n                <Plus size={18} /> Add Lab\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8\">\r\n            {labs.map(lab => (\r\n              <div key={lab.id} className=\"bg-white rounded-[28px] md:rounded-4xl border border-slate-100 shadow-sm overflow-hidden group hover:shadow-lg transition-all duration-300\">\r\n                <div className=\"h-44 md:h-52 bg-slate-50 relative overflow-hidden\">\r\n                  {lab.media[0] ? (\r\n                    <img src={lab.media[0].url} className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500\" alt={lab.name} />\r\n                  ) : (\r\n                    <div className=\"w-full h-full flex items-center justify-center text-slate-200\"><FlaskConical size={48} /></div>\r\n                  )}\r\n                  <div className=\"absolute top-4 right-4 flex gap-2 sm:opacity-0 group-hover:opacity-100 transition-all\">\r\n                    <button onClick={() => deleteLab(lab.id)} className=\"p-2 md:p-3 bg-white/90 text-rose-600 rounded-xl shadow-md\"><Trash2 size={16} /></button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"p-5 md:p-6\">\r\n                  <h3 className=\"text-lg md:text-xl font-bold text-slate-900 mb-1 line-clamp-1\">{lab.name}</h3>\r\n                  <p className=\"text-xs md:text-sm text-slate-500 mb-4 md:mb-6 leading-relaxed line-clamp-2\">{lab.description}</p>\r\n                  <div className=\"flex items-center gap-2 text-[10px] md:text-xs font-bold text-slate-400 bg-slate-50 px-3 md:px-4 py-2 md:py-3 rounded-xl line-clamp-1\">\r\n                    <MapPin size={14} className=\"text-blue-600 shrink-0\" /> {lab.location}\r\n                  </div>\r\n                  <button className=\"w-full mt-4 md:mt-6 py-2.5 md:py-3 bg-slate-50 text-slate-900 rounded-xl font-bold text-[10px] md:text-xs uppercase tracking-wider hover:bg-blue-600 hover:text-white transition-all\">\r\n                    View Details\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'equipment' && (\r\n        <div className=\"bg-white rounded-[28px] md:rounded-4xl border border-slate-100 shadow-sm overflow-hidden\">\r\n          <div className=\"p-6 md:p-8 border-b border-slate-100 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n            <div>\r\n              <h3 className=\"text-lg md:text-xl font-bold text-slate-900\">Equipment List</h3>\r\n              <p className=\"text-slate-400 text-[10px] md:text-xs mt-1 uppercase tracking-tight font-semibold\">{equipment.length} items total</p>\r\n            </div>\r\n            <button onClick={() => setEqModalOpen(true)} className=\"w-full sm:w-auto flex items-center justify-center gap-2 bg-zinc-950 text-white px-5 py-2.5 md:py-3 rounded-2xl font-bold shadow-md hover:bg-zinc-800 transition-all text-[10px] md:text-xs uppercase tracking-widest\">\r\n              <Plus size={16} /> Add Equipment\r\n            </button>\r\n          </div>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-left min-w-150\">\r\n              <thead>\r\n                <tr className=\"bg-slate-50 text-[10px] font-bold text-slate-400 uppercase border-b border-slate-100\">\r\n                  <th className=\"px-6 md:px-8 py-4 md:py-5 tracking-widest\">Name</th>\r\n                  <th className=\"px-6 md:px-8 py-4 md:py-5 tracking-widest\">Serial</th>\r\n                  <th className=\"px-6 md:px-8 py-4 md:py-5 tracking-widest\">Calibration</th>\r\n                  <th className=\"px-6 md:px-8 py-4 md:py-5 text-right tracking-widest\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-slate-50\">\r\n                {equipment.map(item => (\r\n                  <tr key={item.id} className=\"hover:bg-blue-50/20 transition-colors\">\r\n                    <td className=\"px-6 md:px-8 py-4 md:py-6\">\r\n                      <div className=\"flex items-center gap-4\">\r\n                        <div className=\"w-8 h-8 md:w-10 md:h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center font-bold text-sm\">{item.name[0]}</div>\r\n                        <div>\r\n                          <p className=\"font-bold text-slate-900 text-xs md:text-sm\">{item.name}</p>\r\n                          <p className=\"text-[9px] md:text-[10px] text-slate-400 font-bold uppercase\">{item.manufacturer}</p>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 md:px-8 py-4 md:py-6\">\r\n                      <span className=\"font-mono text-[10px] md:text-xs font-bold text-blue-600 bg-blue-50 px-2 md:px-3 py-1 rounded-full\">{item.serialNumber}</span>\r\n                    </td>\r\n                    <td className=\"px-6 md:px-8 py-4 md:py-6\">\r\n                      <span className=\"text-xs md:text-sm font-bold text-slate-700\">{item.nextCalibrationDate}</span>\r\n                    </td>\r\n                    <td className=\"px-6 md:px-8 py-4 md:py-6 text-right\">\r\n                      <button onClick={() => deleteEq(item.id)} className=\"p-2 text-slate-300 hover:text-rose-600 transition-all\"><Trash2 size={16} /></button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'allowances' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-4\">\r\n            <div>\r\n              <h3 className=\"text-lg md:text-xl font-bold text-slate-900\">Lab Rules & Regulations</h3>\r\n              <p className=\"text-slate-400 text-[10px] md:text-xs mt-1 uppercase tracking-tight font-semibold\">{rules.length} rules defined</p>\r\n            </div>\r\n            {role !== UserRole.USER && (\r\n              <button onClick={() => setRuleModalOpen(true)} className=\"flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-2.5 md:py-3 rounded-2xl font-bold shadow-md hover:bg-blue-700 transition-all text-xs md:text-sm\">\r\n                <Plus size={18} /> Add Rule\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {rules.map(rule => {\r\n              const getCategoryColor = () => {\r\n                switch(rule.category) {\r\n                  case 'Safety': return 'bg-red-50 border-red-200 text-red-600';\r\n                  case 'Conduct': return 'bg-blue-50 border-blue-200 text-blue-600';\r\n                  case 'Equipment': return 'bg-amber-50 border-amber-200 text-amber-600';\r\n                  default: return 'bg-slate-50 border-slate-200 text-slate-600';\r\n                }\r\n              };\r\n              \r\n              const getSeverityIcon = () => {\r\n                switch(rule.severity) {\r\n                  case 'Mandatory': return <AlertCircle size={20} className=\"text-red-500\" />;\r\n                  case 'Warning': return <AlertTriangle size={20} className=\"text-amber-500\" />;\r\n                  case 'Info': return <Info size={20} className=\"text-blue-500\" />;\r\n                }\r\n              };\r\n\r\n              return (\r\n                <div key={rule.id} className=\"bg-white p-6 rounded-[28px] border border-slate-100 shadow-sm hover:shadow-lg transition-all group\">\r\n                  <div className=\"flex justify-between items-start mb-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {getSeverityIcon()}\r\n                      <span className={`text-[9px] font-black uppercase px-3 py-1.5 rounded-full tracking-widest ${getCategoryColor()}`}>\r\n                        {rule.category}\r\n                      </span>\r\n                    </div>\r\n                    {role !== UserRole.USER && (\r\n                      <button onClick={() => deleteRule(rule.id)} className=\"opacity-0 group-hover:opacity-100 p-2 text-slate-300 hover:text-rose-600 transition-all\">\r\n                        <Trash2 size={16} />\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                  <h4 className=\"font-black text-slate-900 text-lg mb-3\">{rule.title}</h4>\r\n                  <p className=\"text-sm text-slate-600 leading-relaxed\">{rule.description}</p>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {rules.length === 0 && (\r\n            <div className=\"bg-white p-20 rounded-[28px] border border-slate-100 text-center\">\r\n              <ShieldCheck size={64} className=\"mx-auto text-slate-100 mb-4\" />\r\n              <p className=\"text-slate-300 font-black uppercase tracking-widest text-sm\">No rules defined yet</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Lab Modal */}\r\n      {isModalOpen && (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-6 bg-gradient-to-br from-black/60 via-black/40 to-transparent backdrop-blur-2xl animate-in fade-in duration-300\">\r\n          <div className=\"w-full max-w-lg max-h-[90vh] flex flex-col overflow-hidden\">\r\n            {/* Glass Background with white accent */}\r\n            <div className=\"absolute inset-0 rounded-[32px] md:rounded-[48px] bg-gradient-to-br from-white/50 via-white/30 to-white/20 backdrop-blur-3xl border border-white/40 shadow-2xl pointer-events-none\" style={{\r\n              background: 'linear-gradient(135deg, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.1) 100%)',\r\n              backdropFilter: 'blur(20px)',\r\n              boxShadow: '0 8px 32px 0 rgba(255, 255, 255, 0.1), inset 0 0 20px rgba(255,255,255,0.2)'\r\n            }} />\r\n            \r\n            <div className=\"relative z-10 rounded-[32px] md:rounded-[48px] overflow-hidden flex flex-col\">\r\n              {/* Enhanced Header with blue gradient */}\r\n              <div className=\"relative overflow-hidden p-5 md:p-8 bg-gradient-to-br from-blue-500/80 via-blue-400/60 to-blue-600/70 border-b border-white/30 backdrop-blur-md\">\r\n                {/* Subtle gradient background */}\r\n                <div className=\"absolute inset-0 opacity-20 bg-gradient-to-r from-blue-300 via-white to-blue-300 animate-pulse\" />\r\n                \r\n                <div className=\"relative flex justify-between items-start md:items-center gap-3\">\r\n                  <div>\r\n                    <h2 className=\"text-3xl md:text-4xl font-black mb-1 md:mb-3 text-white drop-shadow-lg\">\r\n                      Add New Lab Room\r\n                    </h2>\r\n                    <div className=\"text-xs md:text-sm text-white/90 font-semibold tracking-wide flex items-center gap-2\">\r\n                      <div className=\"w-1.5 h-1.5 rounded-full bg-white animate-pulse\" />\r\n                      Create laboratory facilities\r\n                    </div>\r\n                  </div>\r\n                  <button \r\n                    onClick={() => {setModalOpen(false); setLabErrors([]);}} \r\n                    className=\"w-10 h-10 md:w-12 md:h-12 flex items-center justify-center rounded-2xl md:rounded-3xl bg-white/20 hover:bg-white/30 border border-white/40 hover:border-white/60 transition-all backdrop-blur-sm group/close\"\r\n                  >\r\n                    <X size={22} className=\"md:w-6 md:h-6 text-white group-hover/close:rotate-90 transition-all\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Content Area */}\r\n              <div className=\"p-5 md:p-10 space-y-6 md:space-y-8 overflow-y-auto bg-gradient-to-b from-white/10 via-white/5 to-white/5 backdrop-blur-md\">\r\n                {labErrors.length > 0 && (\r\n                  <div className=\"mb-6 p-4 bg-rose-500/20 border border-rose-400/40 rounded-2xl backdrop-blur-sm\">\r\n                    <p className=\"text-rose-200 font-black text-sm mb-2\">‚ö†Ô∏è Please fill in the following:</p>\r\n                    <ul className=\"space-y-1\">\r\n                      {labErrors.map((error, idx) => (\r\n                        <li key={idx} className=\"text-rose-100 text-sm font-bold\">‚Ä¢ {error}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n            \r\n                <div className=\"space-y-4 md:space-y-6\">\r\n                  <div className=\"space-y-2 md:space-y-3\">\r\n                    <label className=\"text-[10px] md:text-xs font-black text-white uppercase tracking-widest\">Lab Name</label>\r\n                    <select value={newLab.name} onChange={(e) => {\r\n                      const selected = labTemplates.find(t => t.label === e.target.value);\r\n                      setNewLab({ ...newLab, name: e.target.value, location: selected?.location || newLab.location });\r\n                      setLabErrors([]);\r\n                    }} className=\"w-full px-4 md:px-6 py-3.5 md:py-5 bg-white/15 border border-white/40 rounded-2xl md:rounded-3xl outline-none focus:ring-2 focus:ring-white/60 focus:border-white/60 focus:bg-white/25 transition-all font-semibold text-base md:text-lg placeholder:text-white/50 backdrop-blur-sm text-white cursor-pointer\">\r\n                      <option value=\"\">e.g. Physics Lab 1</option>\r\n                      {labTemplates.map((template) => (\r\n                        <option key={template.label} value={template.label}>{template.label}</option>\r\n                      ))}\r\n                      <option value=\"custom\">+ Custom Lab Name</option>\r\n                    </select>\r\n                    {newLab.name && !labTemplates.some(t => t.label === newLab.name) && (\r\n                      <input type=\"text\" value={newLab.name} onChange={(e) => setNewLab({ ...newLab, name: e.target.value })} className=\"w-full px-4 md:px-6 py-3.5 md:py-5 bg-white/15 border border-white/40 rounded-2xl md:rounded-3xl outline-none focus:ring-2 focus:ring-white/60 focus:border-white/60 focus:bg-white/25 transition-all font-semibold text-base placeholder:text-white/50 backdrop-blur-sm text-white mt-2\" placeholder=\"Enter custom lab name...\" />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"space-y-2 md:space-y-3\">\r\n                    <label className=\"text-[10px] md:text-xs font-black text-white uppercase tracking-widest\">About the Lab</label>\r\n                    <textarea value={newLab.description} onChange={(e) => setNewLab({ ...newLab, description: e.target.value })} className=\"w-full px-4 md:px-6 py-3.5 md:py-5 bg-white/15 border border-white/40 rounded-2xl md:rounded-3xl outline-none focus:ring-2 focus:ring-white/60 focus:border-white/60 focus:bg-white/25 transition-all font-semibold placeholder:text-white/50 backdrop-blur-sm text-white min-h-20 md:min-h-25\" placeholder=\"Enter details...\" />\r\n                  </div>\r\n                  <div className=\"space-y-2 md:space-y-3\">\r\n                    <label className=\"text-[10px] md:text-xs font-black text-white uppercase tracking-widest\">Lab Photo</label>\r\n                    <div className=\"flex flex-col gap-3\">\r\n                      {newLab.photoUrl && (\r\n                        <div className=\"relative w-full h-40 rounded-2xl md:rounded-3xl overflow-hidden border border-white/40\">\r\n                          <img src={newLab.photoUrl} alt=\"Lab preview\" className=\"w-full h-full object-cover\" />\r\n                          <button\r\n                            onClick={() => setNewLab({ ...newLab, photoUrl: '', photoFile: null })}\r\n                            className=\"absolute top-2 right-2 p-1.5 bg-white/90 rounded-lg hover:bg-rose-500 hover:text-white transition-all\"\r\n                          >\r\n                            <X size={16} />\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                      <label className=\"w-full px-4 md:px-6 py-3.5 md:py-5 bg-white/15 border border-white/40 border-dashed rounded-2xl md:rounded-3xl outline-none font-bold text-sm text-white cursor-pointer hover:border-white/60 hover:bg-white/25 transition-all text-center backdrop-blur-sm\">\r\n                        {newLab.photoFile ? `üì∑ ${newLab.photoFile.name}` : 'üì∑ Click to upload or select image'}\r\n                        <input\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          onChange={handlePhotoUpload}\r\n                          className=\"hidden\"\r\n                        />\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-2 md:space-y-3\">\r\n                    <label className=\"text-[10px] md:text-xs font-black text-white uppercase tracking-widest flex items-center gap-1\">\r\n                      <MapPin size={12} /> Lab Location\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newLab.location}\r\n                      onChange={(e) => setNewLab({ ...newLab, location: e.target.value })}\r\n                      className=\"w-full px-4 md:px-6 py-3.5 md:py-5 bg-white/15 border border-white/40 rounded-2xl md:rounded-3xl outline-none focus:ring-2 focus:ring-white/60 focus:border-white/60 focus:bg-white/25 transition-all font-semibold text-base placeholder:text-white/50 backdrop-blur-sm text-white\"\r\n                      placeholder=\"e.g. Building A, Room 101\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Footer with Action Buttons */}\r\n              <div className=\"flex flex-col sm:flex-row gap-3 md:gap-4 p-4 md:p-6 bg-gradient-to-t from-white/10 to-transparent border-t border-white/30 backdrop-blur-md shrink-0\">\r\n                <button \r\n                  onClick={() => { setNewLab({ name: '', description: '', location: '', photoUrl: '', photoFile: null }); setModalOpen(false); }} \r\n                  className=\"order-2 sm:order-1 flex-1 py-3 md:py-4 font-black text-white hover:text-white rounded-2xl md:rounded-3xl transition-all border border-white/40 hover:border-white/60 bg-white/10 hover:bg-white/20 text-sm md:text-base backdrop-blur-sm group/cancel\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  onClick={handleAddLab} \r\n                  className=\"order-1 sm:order-2 flex-1 py-3 md:py-4 bg-gradient-to-r from-white/40 to-white/30 text-white rounded-2xl md:rounded-3xl font-black shadow-xl md:shadow-2xl shadow-white/20 hover:shadow-white/30 hover:scale-105 transition-all flex items-center justify-center gap-2 text-sm md:text-base group/create backdrop-blur-sm border border-white/50\"\r\n                >\r\n                  <Check size={18} className=\"md:w-5 md:h-5 group-hover/create:rotate-12 transition-transform\" /> Save Lab\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Equipment Modal */}\r\n      {isEqModalOpen && (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-6 bg-gradient-to-br from-black/60 via-black/40 to-transparent backdrop-blur-2xl animate-in fade-in duration-300\">\r\n          <div className=\"w-full max-w-lg max-h-[90vh] flex flex-col overflow-hidden\">\r\n            {/* Glass Background with white accent */}\r\n            <div className=\"absolute inset-0 rounded-[32px] md:rounded-[48px] bg-gradient-to-br from-white/50 via-white/30 to-white/20 backdrop-blur-3xl border border-white/40 shadow-2xl pointer-events-none\" style={{\r\n              background: 'linear-gradient(135deg, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.1) 100%)',\r\n              backdropFilter: 'blur(20px)',\r\n              boxShadow: '0 8px 32px 0 rgba(255, 255, 255, 0.1), inset 0 0 20px rgba(255,255,255,0.2)'\r\n            }} />\r\n            \r\n            <div className=\"relative z-10 rounded-[32px] md:rounded-[48px] overflow-hidden flex flex-col\">\r\n              {/* Enhanced Header with blue gradient */}\r\n              <div className=\"relative overflow-hidden p-5 md:p-8 bg-gradient-to-br from-blue-500/80 via-blue-400/60 to-blue-600/70 border-b border-white/30 backdrop-blur-md\">\r\n                {/* Subtle gradient background */}\r\n                <div className=\"absolute inset-0 opacity-20 bg-gradient-to-r from-blue-300 via-white to-blue-300 animate-pulse\" />\r\n                \r\n                <div className=\"relative flex justify-between items-start md:items-center gap-3\">\r\n                  <div>\r\n                    <h2 className=\"text-3xl md:text-4xl font-black mb-1 md:mb-3 text-white drop-shadow-lg\">\r\n                      Add Equipment\r\n                    </h2>\r\n                    <div className=\"text-xs md:text-sm text-white/90 font-semibold tracking-wide flex items-center gap-2\">\r\n                      <div className=\"w-1.5 h-1.5 rounded-full bg-white animate-pulse\" />\r\n                      Manage lab inventory\r\n                    </div>\r\n                  </div>\r\n                  <button \r\n                    onClick={() => {setEqModalOpen(false); setEqErrors([]);}} \r\n                    className=\"w-10 h-10 md:w-12 md:h-12 flex items-center justify-center rounded-2xl md:rounded-3xl bg-white/20 hover:bg-white/30 border border-white/40 hover:border-white/60 transition-all backdrop-blur-sm group/close\"\r\n                  >\r\n                    <X size={22} className=\"md:w-6 md:h-6 text-white group-hover/close:rotate-90 transition-all\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Content Area */}\r\n              <div className=\"p-5 md:p-10 space-y-6 md:space-y-8 overflow-y-auto bg-gradient-to-b from-white/10 via-white/5 to-white/5 backdrop-blur-md\">\r\n                {eqErrors.length > 0 && (\r\n                  <div className=\"mb-6 p-4 bg-rose-500/20 border border-rose-400/40 rounded-2xl backdrop-blur-sm\">\r\n                    <p className=\"text-rose-200 font-black text-sm mb-2\">‚ö†Ô∏è Please fill in the following:</p>\r\n                    <ul className=\"space-y-1\">\r\n                      {eqErrors.map((error, idx) => (\r\n                        <li key={idx} className=\"text-rose-100 text-sm font-bold\">‚Ä¢ {error}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n            \r\n                <div className=\"space-y-4 md:space-y-5\">\r\n                  <div className=\"bg-white/15 rounded-[24px] md:rounded-[32px] p-4 md:p-6 border border-white/40\">\r\n                    <label className=\"text-[10px] font-black text-white/90 uppercase tracking-widest mb-3 md:mb-4 block\">Quick Equipment Template</label>\r\n                    <div className=\"space-y-2\">\r\n                      {equipmentTemplates.map((template) => (\r\n                        <button\r\n                          key={template.label}\r\n                          onClick={() => setNewEq({ ...newEq, name: template.label, manufacturer: template.manufacturer, model: template.model })}\r\n                          className=\"w-full py-2 md:py-3 px-3 md:px-4 rounded-xl font-black text-[9px] md:text-[10px] bg-white/20 text-white border border-white/40 hover:border-white/60 hover:bg-white/30 transition-all text-left\"\r\n                        >\r\n                          {template.label}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-2 md:space-y-3\">\r\n                    <label className=\"text-[10px] md:text-xs font-black text-white uppercase tracking-widest\">Name</label>\r\n                    <input value={newEq.name} onChange={e => setNewEq({ ...newEq, name: e.target.value })} className=\"w-full px-4 md:px-6 py-3.5 md:py-5 bg-white/15 border border-white/40 rounded-2xl md:rounded-3xl outline-none focus:ring-2 focus:ring-white/60 focus:border-white/60 focus:bg-white/25 transition-all font-semibold text-base placeholder:text-white/50 backdrop-blur-sm text-white\" placeholder=\"e.g. Microscope A1\" />\r\n                  </div>\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                    <div className=\"space-y-2 md:space-y-3\">\r\n                      <label className=\"text-[10px] md:text-xs font-black text-white uppercase tracking-widest\">Serial</label>\r\n                      <input value={newEq.serialNumber} onChange={e => setNewEq({ ...newEq, serialNumber: e.target.value })} className=\"w-full px-4 md:px-6 py-3.5 md:py-5 bg-white/15 border border-white/40 rounded-2xl md:rounded-3xl outline-none focus:ring-2 focus:ring-white/60 focus:border-white/60 focus:bg-white/25 transition-all font-semibold text-base placeholder:text-white/50 backdrop-blur-sm text-white\" placeholder=\"SN-XXXX\" />\r\n                    </div>\r\n                    <div className=\"space-y-2 md:space-y-3\">\r\n                      <label className=\"text-[10px] md:text-xs font-black text-white uppercase tracking-widest\">Calibration Date</label>\r\n                      <input type=\"date\" value={newEq.nextCalibrationDate} onChange={e => setNewEq({ ...newEq, nextCalibrationDate: e.target.value })} className=\"w-full px-4 md:px-6 py-3.5 md:py-5 bg-white/15 border border-white/40 rounded-2xl md:rounded-3xl outline-none focus:ring-2 focus:ring-white/60 focus:border-white/60 focus:bg-white/25 transition-all font-semibold text-base placeholder:text-white/50 backdrop-blur-sm text-white\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Footer with Action Buttons */}\r\n              <div className=\"flex flex-col sm:flex-row gap-3 md:gap-4 p-4 md:p-6 bg-gradient-to-t from-white/10 to-transparent border-t border-white/30 backdrop-blur-md shrink-0\">\r\n                <button \r\n                  onClick={() => {setEqModalOpen(false); setEqErrors([]);}} \r\n                  className=\"order-2 sm:order-1 flex-1 py-3 md:py-4 font-black text-white hover:text-white rounded-2xl md:rounded-3xl transition-all border border-white/40 hover:border-white/60 bg-white/10 hover:bg-white/20 text-sm md:text-base backdrop-blur-sm group/cancel\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  onClick={handleAddEquipment} \r\n                  className=\"order-1 sm:order-2 flex-1 py-3 md:py-4 bg-gradient-to-r from-white/40 to-white/30 text-white rounded-2xl md:rounded-3xl font-black shadow-xl md:shadow-2xl shadow-white/20 hover:shadow-white/30 hover:scale-105 transition-all flex items-center justify-center gap-2 text-sm md:text-base group/create backdrop-blur-sm border border-white/50\"\r\n                >\r\n                  <Check size={18} className=\"md:w-5 md:h-5 group-hover/create:rotate-12 transition-transform\" /> Add to Inventory\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Rule Modal */}\r\n      {isRuleModalOpen && (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-6 bg-gradient-to-br from-black/60 via-black/40 to-transparent backdrop-blur-2xl animate-in fade-in duration-300\">\r\n          <div className=\"w-full max-w-lg max-h-[90vh] flex flex-col overflow-hidden\">\r\n            {/* Glass Background with white accent */}\r\n            <div className=\"absolute inset-0 rounded-[32px] md:rounded-[48px] bg-gradient-to-br from-white/50 via-white/30 to-white/20 backdrop-blur-3xl border border-white/40 shadow-2xl pointer-events-none\" style={{\r\n              background: 'linear-gradient(135deg, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.1) 100%)',\r\n              backdropFilter: 'blur(20px)',\r\n              boxShadow: '0 8px 32px 0 rgba(255, 255, 255, 0.1), inset 0 0 20px rgba(255,255,255,0.2)'\r\n            }} />\r\n            \r\n            <div className=\"relative z-10 rounded-[32px] md:rounded-[48px] overflow-hidden flex flex-col\">\r\n              {/* Enhanced Header with blue gradient */}\r\n              <div className=\"relative overflow-hidden p-5 md:p-8 bg-gradient-to-br from-blue-500/80 via-blue-400/60 to-blue-600/70 border-b border-white/30 backdrop-blur-md\">\r\n                {/* Subtle gradient background */}\r\n                <div className=\"absolute inset-0 opacity-20 bg-gradient-to-r from-blue-300 via-white to-blue-300 animate-pulse\" />\r\n                \r\n                <div className=\"relative flex justify-between items-start md:items-center gap-3\">\r\n                  <div>\r\n                    <h2 className=\"text-3xl md:text-4xl font-black mb-1 md:mb-3 text-white drop-shadow-lg\">\r\n                      Add Lab Rule\r\n                    </h2>\r\n                    <div className=\"text-xs md:text-sm text-white/90 font-semibold tracking-wide flex items-center gap-2\">\r\n                      <div className=\"w-1.5 h-1.5 rounded-full bg-white animate-pulse\" />\r\n                      Define safety and conduct guidelines\r\n                    </div>\r\n                  </div>\r\n                  <button \r\n                    onClick={() => {setRuleModalOpen(false); setRuleErrors([]);}} \r\n                    className=\"w-10 h-10 md:w-12 md:h-12 flex items-center justify-center rounded-2xl md:rounded-3xl bg-white/20 hover:bg-white/30 border border-white/40 hover:border-white/60 transition-all backdrop-blur-sm group/close\"\r\n                  >\r\n                    <X size={22} className=\"md:w-6 md:h-6 text-white group-hover/close:rotate-90 transition-all\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Content Area */}\r\n              <div className=\"p-5 md:p-10 space-y-6 md:space-y-8 overflow-y-auto bg-gradient-to-b from-white/10 via-white/5 to-white/5 backdrop-blur-md\">\r\n                {ruleErrors.length > 0 && (\r\n                  <div className=\"mb-6 p-4 bg-rose-500/20 border border-rose-400/40 rounded-2xl backdrop-blur-sm\">\r\n                    <p className=\"text-rose-200 font-black text-sm mb-2\">‚ö†Ô∏è Please fill in the following:</p>\r\n                    <ul className=\"space-y-1\">\r\n                      {ruleErrors.map((error, idx) => (\r\n                        <li key={idx} className=\"text-rose-100 text-sm font-bold\">‚Ä¢ {error}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n            \r\n                <div className=\"space-y-4 md:space-y-6\">\r\n                  <div className=\"space-y-2 md:space-y-3\">\r\n                    <label className=\"text-[10px] md:text-xs font-black text-white uppercase tracking-widest\">Rule Title</label>\r\n                    <input value={newRule.title} onChange={e => {setNewRule({ ...newRule, title: e.target.value }); setRuleErrors([]);}} className=\"w-full px-4 md:px-6 py-3.5 md:py-5 bg-white/15 border border-white/40 rounded-2xl md:rounded-3xl outline-none focus:ring-2 focus:ring-white/60 focus:border-white/60 focus:bg-white/25 transition-all font-semibold text-base placeholder:text-white/50 backdrop-blur-sm text-white\" placeholder=\"e.g. Wear Safety Goggles\" />\r\n                  </div>\r\n                  <div className=\"space-y-2 md:space-y-3\">\r\n                    <label className=\"text-[10px] md:text-xs font-black text-white uppercase tracking-widest\">Description</label>\r\n                    <textarea value={newRule.description} onChange={e => setNewRule({ ...newRule, description: e.target.value })} className=\"w-full px-4 md:px-6 py-3.5 md:py-5 bg-white/15 border border-white/40 rounded-2xl md:rounded-3xl outline-none focus:ring-2 focus:ring-white/60 focus:border-white/60 focus:bg-white/25 transition-all font-semibold placeholder:text-white/50 backdrop-blur-sm text-white min-h-24\" placeholder=\"Describe the rule details...\" />\r\n                  </div>\r\n                  <div className=\"space-y-2 md:space-y-3\">\r\n                    <label className=\"text-[10px] md:text-xs font-black text-white uppercase tracking-widest\">Category</label>\r\n                    <div className=\"grid grid-cols-2 gap-2\">\r\n                      {(['Safety', 'Conduct', 'Equipment', 'General'] as const).map(cat => (\r\n                        <button\r\n                          key={cat}\r\n                          onClick={() => setNewRule({ ...newRule, category: cat })}\r\n                          className={`py-3 rounded-2xl md:rounded-3xl font-black text-xs uppercase tracking-widest transition-all ${\r\n                            newRule.category === cat\r\n                              ? cat === 'Safety' ? 'bg-red-600 text-white shadow-lg' :\r\n                                cat === 'Conduct' ? 'bg-blue-600 text-white shadow-lg' :\r\n                                cat === 'Equipment' ? 'bg-amber-600 text-white shadow-lg' :\r\n                                'bg-slate-600 text-white shadow-lg'\r\n                              : 'bg-white/10 text-white/70 border border-white/20 hover:border-white/40 hover:bg-white/20'\r\n                          }`}\r\n                        >\r\n                          {cat}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-2 md:space-y-3\">\r\n                    <label className=\"text-[10px] md:text-xs font-black text-white uppercase tracking-widest\">Severity</label>\r\n                    <div className=\"grid grid-cols-3 gap-2\">\r\n                      {(['Mandatory', 'Warning', 'Info'] as const).map(sev => (\r\n                        <button\r\n                          key={sev}\r\n                          onClick={() => setNewRule({ ...newRule, severity: sev })}\r\n                          className={`py-3 rounded-2xl md:rounded-3xl font-black text-xs uppercase tracking-widest transition-all ${\r\n                            newRule.severity === sev\r\n                              ? sev === 'Mandatory' ? 'bg-red-600 text-white shadow-lg' :\r\n                                sev === 'Warning' ? 'bg-amber-600 text-white shadow-lg' :\r\n                                'bg-blue-600 text-white shadow-lg'\r\n                              : 'bg-white/10 text-white/70 border border-white/20 hover:border-white/40 hover:bg-white/20'\r\n                          }`}\r\n                        >\r\n                          {sev}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Footer with Action Buttons */}\r\n              <div className=\"flex flex-col sm:flex-row gap-3 md:gap-4 p-4 md:p-6 bg-gradient-to-t from-white/10 to-transparent border-t border-white/30 backdrop-blur-md shrink-0\">\r\n                <button \r\n                  onClick={() => {setRuleModalOpen(false); setRuleErrors([]);}} \r\n                  className=\"order-2 sm:order-1 flex-1 py-3 md:py-4 font-black text-white hover:text-white rounded-2xl md:rounded-3xl transition-all border border-white/40 hover:border-white/60 bg-white/10 hover:bg-white/20 text-sm md:text-base backdrop-blur-sm group/cancel\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  onClick={handleAddRule} \r\n                  className=\"order-1 sm:order-2 flex-1 py-3 md:py-4 bg-gradient-to-r from-white/40 to-white/30 text-white rounded-2xl md:rounded-3xl font-black shadow-xl md:shadow-2xl shadow-white/20 hover:shadow-white/30 hover:scale-105 transition-all flex items-center justify-center gap-2 text-sm md:text-base group/create backdrop-blur-sm border border-white/50\"\r\n                >\r\n                  <Check size={18} className=\"md:w-5 md:h-5 group-hover/create:rotate-12 transition-transform\" /> Add Rule\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}